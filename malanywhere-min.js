MALAnywhere=function(){function b(a,b,c,d){$.ajax({url:"https://myanimelist.net/api/account/verify_credentials.xml",error:c,username:a,password:b,success:d})}function c(b,c,d,e){b({code:a.INVALID_CREDENTIALS,jqXHR:c,textStatus:d,errorThrown:e})}function d(b,c,d,e){var f=$(e),g=b.find("id").text(),h={text:function(){return-1}};f.find("series_animedb_id:contains("+g+")").filter(function(){$(this).text()===g&&(h=$(this))});var i={id:b.find("id").text(),title:b.find("title").text(),english:b.find("english").text(),synonyms:b.find("synonyms").text(),matched_title:c,type:b.find("series_type").text(),episodes:b.find("episodes").text(),score:b.find("score").text(),status:b.find("status").text(),start_date:b.find("start_date").text(),end_date:b.find("end_date").text(),synopsis:b.find("synopsis").text(),image:b.find("image").text()};h.text()!=-1?(h=h.parent(),d({code:a.FOUND_AND_ON_USER_LIST,userValues:{watched_episodes:h.find("my_watched_episodes").text(),start_date:h.find("my_start_date").text(),finish_date:h.find("my_finish_date").text(),score:h.find("my_score").text(),status:h.find("my_status").text(),rewatching:h.find("my_rewatching").text(),rewatching_episodes:h.find("my_rewatching_ep").text(),last_updated:h.find("my_last_updated").text(),tags:h.find("my_tags").text()},animeInfo:i})):d({code:a.FOUND_BUT_NOT_ON_USER_LIST,animeInfo:i})}function e(b,c,e,f){for(var g=-1,j="",k=0;k<f.length;k++)for(var l=$(f[k]).find("entry"),m=0;m<l.length;m++)l.each(function(){if($(this).find("title").text().toLowerCase()==b[k].toLowerCase())return g=$(this),j=$(this).find("title").text(),k=f.length,m=l.length,!1;if($(this).find("english").text().toLowerCase()==b[k].toLowerCase())return j=$(this).find("english").text(),g=$(this),k=f.length,m=l.length,!1;for(var a=$(this).find("synonyms").text().split(", "),c=0;c<a.length;c++)if(a[c].toLowerCase()==b[k].toLowerCase()){g=$(this),j=a[c],k=f.length,m=l.length;break}});if(g!=-1){var n=i(d,g,j,e);$.ajax({url:"https://myanimelist.net/malappinfo.php",data:{u:c,status:"all",type:"anime"},success:n,error:h,dataType:"xml"})}else e({code:a.NO_SEARCH_RESULTS})}function f(a,b,c,d){for(var f=a.length,g=0,j=[],k=i(function(a,b,c,d){j.push(d),g++,g==f&&e(a,b,c,j)},a,b,d),l=0;l<a.length;l++)$.ajax({url:"https://myanimelist.net/api/anime/search.xml",data:{q:a[l]},success:k,error:h,dataType:"xml",async:!1,username:b,password:c})}function g(a,d,e,g){h=i(h,g),b(d,e,i(c,g),i(f,a,d,e,g))}function h(b,c,d,e){alert(b),b({code:a.AJAX_ERROR,jqXHR:c,textStatus:d,errorThrown:e})}function i(a){var b=Array.prototype.slice,c=b.call(arguments,1);return function(){return a.apply(this,c.concat(b.call(arguments,0)))}}var a={AJAX_ERROR:-3,INVALID_CREDENTIALS:-2,NO_SEARCH_RESULTS:-1,FOUND_BUT_NOT_ON_USER_LIST:0,FOUND_AND_ON_USER_LIST:1};return{CODES:a,verifyCredentials:b,getAnimeInfo:g}}();